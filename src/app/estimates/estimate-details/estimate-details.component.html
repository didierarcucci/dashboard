<div>
  <div class="animated fadeIn" *ngFor="let estimate of EstimateHdr">
    <!-- Estimate + Roles row -->
    <div class="row">
      <div class="col-md-12">
        <div class="card">
          <div class="card-header">
            <strong>Estimate Details</strong>
            <div class="card-actions">
              <a class="btn-close clickable" title="Print this estimate" (click)="printEstimate(estimate)"><i class="fa fa-print fa-lg"></i></a>
              <a class="btn-close clickable" title="Clone this estimate"><i class="fa fa-clone fa-lg"></i></a>
              <a class="btn-close clickable" title="Delete this estimate"><i class="fa fa-trash-o fa-lg"></i></a>
              <a class="btn-minimize clickable" (click)="toggleContent('estimate')" *ngIf="showEstimateContent" title="Collapse content"><i class="fa fa-caret-up fa-lg"></i></a>
              <a class="btn-minimize clickable" (click)="toggleContent('estimate')" *ngIf="!showEstimateContent" title="Expand content"><i class="fa fa-caret-down fa-lg"></i></a>
            </div>
          </div>
          <div *ngIf="showEstimateContent">
            <div class="card-block">
              <form action="" method="post" enctype="multipart/form-data" class="form-horizontal" #estimateform="ngForm">
                <div class="form-group row">
                  <label class="col-md-2 form-control-label" for="estimatename">Estimate Name</label>
                  <div class="col-md-6">
                    <input id="estimatename" name="estimatename" class="form-control" type="text" [(ngModel)]="estimate.EstimateName">
                  </div>
                </div>
                <div class="form-group row">
                  <label class="col-md-2 form-control-label">Total Cost</label>
                  <div class="col-md-10">
                    <p class="form-control-static">
                      {{estimate.TotalCost |  currency : 'USD' : true : '1.2-2'}}
                      &nbsp;(Labor:&nbsp;{{estimate.Cost |  currency : 'USD' : true : '1.2-2'}},&nbsp;Add-Ons:&nbsp;{{estimate.AddOnCost |  currency : 'USD' : true : '1.2-2'}})
                    </p>
                  </div>
                </div>
                <div class="form-group row">
                  <label class="col-md-2 form-control-label">Effort (hrs)</label>
                  <div class="col-md-10">
                    <p class="form-control-static">{{estimate.Effort | number: '1.2-2'}}</p>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-4">
                    <div class="form-group">
                      <label class="form-control-label" for="assumptions-input">Assumptions</label>
                      <textarea id="assumptions-input" name="assumptions-input" class="form-control" rows="5" [(ngModel)]="estimate.Assumptions"></textarea>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-group">
                      <label class="form-control-label" for="inscope-input">In Scope</label>
                      <textarea id="inscope-input" name="inscope-input" class="form-control" rows="5" [(ngModel)]="estimate.InScope"></textarea>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-group">
                      <label class="form-control-label" for="outofscope-input">Out Of Scope</label>
                      <textarea id="outofscope-input" name="outofscope-input" class="form-control" rows="5" [(ngModel)]="estimate.OutOfScope">{</textarea>
                    </div>
                  </div>
                </div>
              </form>
              <div class="row">
                <label class="col-md-4">Created on&nbsp;{{estimate.CreationDate | date: 'fullDate'}}&nbsp;by&nbsp;{{estimate.CreatedByName}}</label>
                <label class="col-md-4">Updated on&nbsp;{{estimate.UpdateDate | date: 'fullDate'}}&nbsp;by&nbsp;{{estimate.UpdatedByName}}</label>
              </div>
            </div> <!-- card block -->
            <div class="card-footer">
              <button type="submit" class="btn btn-sm btn-primary">Save Changes</button>
              <button type="reset" class="btn btn-sm btn-danger" (click)="reset()">Undo</button>
            </div>
          </div>
        </div>
      </div> <!-- col-md-12 -->
    </div>
    <!-- Components Card -->
    <div class="row">
      <div class="col-md-12">
        <div class="card">
          <div class="card-header">
            <strong>Component Breakdown</strong>
            <div class="card-actions">
              <a class="btn-close clickable" title="Delete all components"><i class="fa fa-trash-o fa-lg"></i></a>
              <a class="btn-minimize clickable" (click)="toggleContent('components')" *ngIf="showComponentListContent" title="Collapse content"><i class="fa fa-caret-up fa-lg"></i></a>
              <a class="btn-minimize clickable" (click)="toggleContent('components')" *ngIf="!showComponentListContent" title="Expand content"><i class="fa fa-caret-down fa-lg"></i></a>
            </div>
          </div>
          <div class="card-block" *ngIf="showComponentListContent">
            <table class="table table-condensed table-striped">
              <thead>
                <tr>
                  <th>Component Name</th>
                  <th>Complexity</th>
                  <th class="right-align">Effort (hrs)</th>
                  <th class="right-align">Cost</th>
                  <th>Notes</th>
                </tr>
              </thead>
              <tbody>
                <tr class="clickable" *ngFor="let component of ComponentList" (click)="goToDetails(component.ComponentId)">
                  <td>{{component.ComponentName}}</td>
                  <td>{{component.Complexity}}</td>
                  <td class="right-align">{{component.Effort | number: '1.2-2'}}</td>
                  <td class="right-align">{{component.Cost |  currency : 'USD' : true : '1.2-2'}}</td>
                  <td>{{component.Notes}}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div> <!-- col-md-8 -->
    </div> <!-- row -->
    <!-- Components card -->
      <!-- Roles card -->
    <div class="row">
      <div class="col-md-12">
        <div class="card">
          <div class="card-header">
            <strong>Role Breakdown</strong>
            <div class="card-actions">
              <a class="btn-close clickable" title="Delete all assignments"><i class="fa fa-trash-o fa-lg"></i></a>
              <a class="btn-minimize clickable" (click)="toggleContent('roles')" *ngIf="showEstimateRoleListContent" title="Collapse content"><i class="fa fa-caret-up fa-lg"></i></a>
              <a class="btn-minimize clickable" (click)="toggleContent('roles')" *ngIf="!showEstimateRoleListContent" title="Expand content"><i class="fa fa-caret-down fa-lg"></i></a>
            </div>
          </div>
          <div class="card-block" *ngIf="showEstimateRoleListContent">
            <table class="table table-striped table-condensed">
              <thead>
                <tr>
                  <th>Role Name</th>
                  <th class="right-align">Hourly Rate</th>
                  <th class="right-align">Effort (hrs)</th>
                  <th class="right-align">Cost</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let role of EstimateRoleList">
                  <td>{{role.RoleName}}</td>
                  <td class="right-align">{{role.HourlyRate |  currency : 'USD' : true : '1.2-2'}}</td>
                  <td class="right-align">{{role.Effort | number: '1.2-2'}}</td>
                  <td class="right-align">{{role.Cost |  currency : 'USD' : true : '1.2-2'}}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div> <!-- col-md-12 -->
    </div>
    <!-- Roles Card -->
  </div> <!-- animated fadein -->
</div> <!-- !pdfMode -->



<!-- HTML FOR PRINTING -->
<!--
<div id="printableEstimate" style="display: none">
  <div class="animated fadeIn" *ngFor="let estimate of EstimateHdr">
    <div class="row">
      <div class="col-md-12">
        <div class="card">
          <div class="card-block">
            <div class="row">
              <label class="col-md-3"><strong>Estimate Name</strong></label>
              <div class="col-md-9">
                <p class="pdfestimate-header"><strong>{{estimate.EstimateName}}</strong></p>
              </div>
            </div>
            <div class="row">
              <label class="col-md-3"><strong>Estimate Date</strong></label>
              <div class="col-md-9">
                <p class="pdfestimate-header"><strong>{{estimate.CreationDate | date: 'fullDate'}}</strong></p>
              </div>
            </div>
            <div class="row">
              &nbsp;
            </div>
            <div class="row">
              <label class="col-md-3"><strong>Total Cost</strong></label>
              <div class="col-md-9">
                <p class="pdfestimate-header">
                  <strong>{{estimate.TotalCost |  currency : 'USD' : true : '1.2-2'}}
                  &nbsp;(Labor:&nbsp;{{estimate.Cost |  currency : 'USD' : true : '1.2-2'}},&nbsp;Add-Ons:&nbsp;{{estimate.AddOnCost |  currency : 'USD' : true : '1.2-2'}})</strong>
                </p>
              </div>
            </div>
            <div class="row">
              <label class="col-md-3"><strong>Effort (hrs)</strong></label>
              <div class="col-md-9">
                <p class="pdfestimate-header"><strong>{{estimate.Effort | number: '1.2-2'}}</strong></p>
              </div>
            </div>
            <div class="row">
              &nbsp;
            </div>
            <div class="row">
              <div class="col-md-12">
                <div class="form-group">
                  <label class="form-control-label"><strong>Assumptions</strong></label>
                  <div style="white-space: pre-wrap">{{estimate.Assumptions}}</div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-12">
                <div class="form-group">
                  <label class="form-control-label"><strong>In Scope</strong></label>
                  <div style="white-space: pre-wrap">{{estimate.InScope}}</div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-12">
                <div class="form-group">
                  <label class="form-control-label"><strong>Out Of Scope</strong></label>
                  <div style="white-space: pre-wrap">{{estimate.OutOfScope}}</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <div class="card">
          <div class="card-header pdfestimate-card-header">
            <strong>Component Breakdown</strong>
          </div>
          <div class="card-block">
            <table class="table table-condensed table-striped">
              <thead>
                <tr>
                  <th>Component Name</th>
                  <th class="right-align">Effort (hrs)</th>
                  <th class="right-align">Cost</th>
                  <th>Notes</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let component of ComponentList">
                  <td>{{component.ComponentName}}</td>
                  <td class="right-align">{{component.Effort | number: '1.2-2'}}</td>
                  <td class="right-align">{{component.Cost |  currency : 'USD' : true : '1.2-2'}}</td>
                  <td>{{component.Notes}}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <div class="card">
          <div class="card-header pdfestimate-card-header">
            <strong>Role Breakdown</strong>
          </div>
          <div class="card-block">
            <table class="table table-striped table-condensed">
              <thead>
                <tr>
                  <th>Role Name</th>
                  <th class="right-align">Effort (hrs)</th>
                  <th class="right-align">Hourly Rate</th>
                  <th class="right-align">Cost</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let role of EstimateRoleList">
                  <td>{{role.RoleName}}</td>
                  <td class="right-align">{{role.Effort | number: '1.2-2'}}</td>
                  <td class="right-align">{{role.HourlyRate |  currency : 'USD' : true : '1.2-2'}}</td>
                  <td class="right-align">{{role.Cost |  currency : 'USD' : true : '1.2-2'}}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
-->

<div id="printableEstimate" style="display: none" *ngFor="let estimate of EstimateHdr">
  <table>
    <tr>
      <td colspan="2"><h1>Integration Solutions&nbsp;-&nbsp;{{estimate.InitiativeName}}</h1></td>
    </tr>
    <tr><td colspan="2">&nbsp;</td></tr>
    <tr>
      <td style="white-space:nowrap; vertical-align:top"><h2>Estimate Name:</h2></td>
      <td><h3>{{estimate.EstimateName}}</h3></td>
    </tr>
    <tr>
      <td style="white-space:nowrap; vertical-align:top"><h2>Estimate Date:</h2></td>
      <td><h3>{{estimate.UpdateDate | date: 'fullDate'}}</h3></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td style="vertical-align:top"><h2>Total Cost:</h2></td>
      <td><h3>{{estimate.TotalCost |  currency : 'USD' : true : '1.2-2'}}&nbsp;(Labor:&nbsp;{{estimate.Cost |  currency : 'USD' : true : '1.2-2'}},&nbsp;Add-Ons:&nbsp;{{estimate.AddOnCost |  currency : 'USD' : true : '1.2-2'}})</h3></td>
    </tr>
    <tr>
      <td style="vertical-align:top"><h2>Total Effort (hrs):</h2></td>
      <td><h3>{{estimate.Effort | number: '1.2-2'}}</h3></td>
    </tr>
  </table>
  <br/>
  <table>
    <tr><td><h2>In Scope:</h2></td></tr>
    <tr><td style="padding-left:2em; white-space: pre;">{{estimate.InScope}}</td></tr>
    <tr><td>&nbsp;</td></tr>
    <tr><td><h2>Out of Scope:</h2></td></tr>
    <tr><td style="padding-left:2em; white-space: pre;">{{estimate.OutOfScope}}</td></tr>
    <tr><td>&nbsp;</td></tr>
    <tr><td><h2>Assumptions:</h2></td></tr>
    <tr><td style="padding-left:2em; white-space: pre;">{{estimate.Assumptions}}<br/></td></tr>
  </table>
  <br/>
  <br/>
  <h2>Breakdown by Component:</h2>
  <table border="1" class="tabstyle">
      <tr>
          <th style="text-align: left">Components</th>
          <th style="text-align: right">Effort</th>
          <th style="text-align: right">Cost</th>
          <th style="text-align: left">Notes</th>
      </tr>
      <tr *ngFor="let component of ComponentList">
          <td style="text-align: left; white-space:nowrap">{{component.ComponentName}}</td>
          <td align="right">{{component.Effort | number: '1.2-2'}}</td>
          <td align="right">{{component.Cost |  currency : 'USD' : true : '1.2-2'}}</td>
          <td>{{component.Notes}}</td>
      </tr>
      <tr>
          <td>Components Total</td>
          <td></td>
          <td></td>
          <td>&nbsp;</td>
      </tr>
  </table>
  <br/> 
  <br/>
  <h2>Breakdown by Role:</h2>
  <table border="1" class="tabstyle">
      <tr>
          <th style="text-align: left">Role</th>
          <th style="text-align: right">Total (hrs)</th>
          <th style="text-align: right">Rate/hr</th>
          <th style="text-align: right">Total ($)</th>
      </tr>
      <tr *ngFor="let role of EstimateRoleList">
          <td style="text-align: left">{{role.RoleName}}</td>
          <td align="right">{{role.Effort | number: '1.2-2'}}</td>
          <td align="right">{{role.HourlyRate |  currency : 'USD' : true : '1.2-2'}}</td>
          <td class="right">{{role.Cost |  currency : 'USD' : true : '1.2-2'}}</td>
      </tr>
      <tr>
          <td>Grand Total</td>
          <td></td>
          <td></td>
          <td></td>
      </tr>
  </table>
  <!--
  <h2>Add-Ons:</h2>
  <table border="1" class="tabstyle">
      <tr>
          <th>Add-On</th>
          <th>Total</th>
      </tr>
      <tr>
          <td></td>
          <td align="right"></td>
      </tr>
      <tr>
          <td>Grand Total</td>
          <td></td>
      </tr>
  </table>
  -->
</div>